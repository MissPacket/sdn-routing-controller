name: sdn-lab

mgmt:
  network: clab
  ipv4-subnet: 172.20.20.0/24

topology:
  kinds:
    ceos:
      image: ceos:4.35.1F
      startup-config: |
        hostname {{ .Name }}
        service routing protocols model multi-agent
        lldp run
        management api http-commands
          protocol http
          no shutdown

  nodes:
    r1:
      kind: ceos
      mgmt-ipv4: 172.20.20.11

    r2:
      kind: ceos
      mgmt-ipv4: 172.20.20.12

    r3:
      kind: ceos
      mgmt-ipv4: 172.20.20.13

    r4:
      kind: ceos
      mgmt-ipv4: 172.20.20.14

    r5:
      kind: ceos
      mgmt-ipv4: 172.20.20.15

  links:
    - endpoints: ["r1:eth1", "r2:eth1"]
    - endpoints: ["r1:eth2", "r3:eth1"]
    - endpoints: ["r2:eth2", "r3:eth2"]
    - endpoints: ["r2:eth3", "r4:eth1"]
    - endpoints: ["r3:eth3", "r4:eth2"]
    - endpoints: ["r4:eth3", "r5:eth1"]
